{"version":3,"sources":["webpack://micser-common/webpack/universalModuleDefinition","webpack://micser-common/external \"react\"","webpack://micser-common/external \"styled-components\"","webpack://micser-common/external \"antd\"","webpack://micser-common/./src/components/Loader/Loader.js","webpack://micser-common/external \"axios\"","webpack://micser-common/./src/hooks/useApi.js","webpack://micser-common/webpack/bootstrap","webpack://micser-common/webpack/startup","webpack://micser-common/webpack/runtime/compat get default export","webpack://micser-common/webpack/runtime/define property getters","webpack://micser-common/webpack/runtime/hasOwnProperty shorthand","webpack://micser-common/webpack/runtime/make namespace object"],"names":["root","factory","exports","module","define","amd","self","require","Container","styled","Loader","tip","Spin","defaultProps","url","autoLoad","method","data","axios","useMemo","AxiosStatic","baseURL","useState","result","setResult","isLoading","setIsLoading","isLoaded","setIsLoaded","error","setError","refreshIndex","setRefreshIndex","refresh","useEffect","isCancelled","get","params","post","put","Error","console","log","response","statusCode","message","loadAsync","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value"],"mappings":"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","file":"main.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"micser-common\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"micser-common\"] = factory();\n\telse\n\t\troot[\"micser-common\"] = factory();\n})(self, function() {\nreturn ","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"react\");;","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"styled-components\");;","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"antd\");;","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Spin } from \"antd\";\r\n\r\nconst Container = styled.div`\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    background-color: rgba(0, 0, 0, 0.5);\r\n    z-index: 999;\r\n`;\r\n\r\nconst Loader = ({ tip }) => {\r\n    return (\r\n        <Container>\r\n            <Spin tip={tip} />\r\n        </Container>\r\n    );\r\n};\r\n\r\nLoader.defaultProps = {\r\n    tip: \"Loading...\",\r\n};\r\n\r\nexport default Loader;\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"axios\");;","import { useEffect, useMemo, useState } from \"react\";\r\nimport AxiosStatic from \"axios\";\r\n\r\nconst useApi = (url, { autoLoad, method, data } = { autoLoad: true, method: \"get\" }) => {\r\n    const axios = useMemo(\r\n        () =>\r\n            AxiosStatic.create({\r\n                baseURL: \"/api\",\r\n            }),\r\n        []\r\n    );\r\n\r\n    const [result, setResult] = useState();\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [isLoaded, setIsLoaded] = useState(false);\r\n    const [error, setError] = useState();\r\n    const [refreshIndex, setRefreshIndex] = useState(0);\r\n\r\n    const refresh = () => {\r\n        setRefreshIndex(refreshIndex + 1);\r\n    };\r\n\r\n    useEffect(() => {\r\n        let isCancelled = false;\r\n\r\n        const loadAsync = async () => {\r\n            setIsLoading(true);\r\n            setIsLoaded(false);\r\n\r\n            try {\r\n                let result = null;\r\n                switch (method) {\r\n                    case \"get\":\r\n                        result = await axios.get(url, {\r\n                            params: data,\r\n                        });\r\n                        break;\r\n                    case \"post\":\r\n                        result = await axios.post(url, data);\r\n                        break;\r\n                    case \"put\":\r\n                        result = await axios.put(url, data);\r\n                        break;\r\n                    case \"delete\":\r\n                        result = await axios.delete(url, {\r\n                            params: data,\r\n                        });\r\n                        break;\r\n                    default:\r\n                        throw new Error(\"Invalid method\");\r\n                }\r\n                if (!isCancelled) {\r\n                    setResult(result.data);\r\n                    setError(null);\r\n                    setIsLoading(false);\r\n                    setIsLoaded(true);\r\n                }\r\n            } catch (error) {\r\n                console.log(error);\r\n                if (!isCancelled) {\r\n                    setError(\r\n                        error.response && error.response.data\r\n                            ? error.response.data\r\n                            : { statusCode: 500, message: \"Unknown error.\" }\r\n                    );\r\n                }\r\n            } finally {\r\n                if (!isCancelled) {\r\n                    setIsLoading(false);\r\n                }\r\n            }\r\n        };\r\n\r\n        if (autoLoad || refreshIndex > 1) {\r\n            loadAsync();\r\n        }\r\n\r\n        return () => {\r\n            isCancelled = true;\r\n        };\r\n    }, [axios, url, autoLoad, method, data, refreshIndex]);\r\n\r\n    return [result, isLoading, refresh, isLoaded, error];\r\n};\r\n\r\nexport default useApi;\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(374);\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => module['default'] :\n\t\t() => module;\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};"],"sourceRoot":""}